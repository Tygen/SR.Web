<template name="cardList">
    <!-- be awared that there are two tags regarting the page structure has moved 
    to layout.html in order to help the footer obtain a correct location -->
    <div class="demo-blog__posts mdl-grid">
        <div class="mdl-card coffee-pic mdl-cell mdl-cell--8-col mdl-shadow--4dp">

            <!-- The entery point for explantion page -->
            <div class="mdl-card__media mdl-color-text--grey-50">
                <h3><a href="entry.html">SR.Web 项目是怎样工作的？</a></h3>
            </div>

            <div class="mdl-card__supporting-text meta mdl-color-text--grey-600">
                <div class="minilogo"></div>
                <div>
                    <strong>The Newist</strong>
                    <span>2 days ago</span>
                </div>
            </div>
        </div>


        <!-- The upload card -->
        <!-- current under heady construction, be mind of any changes here! -->
        <div class="mdl-card something-else mdl-cell mdl-cell--8-col mdl-cell--4-col-desktop mdl-shadow--16dp">

            <!-- the select button -->
            <div class="file_input">
                <label class="image_input_button mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">
                    <i class="material-icons">add</i>
                    <input id="file_input_file" class="none" style="display: none" type="file" />
                </label>
            </div>

            <div class="mdl-card__media mdl-color--white mdl-color-text--blue-A700">
                <!-- TODO:remember change this image to the finish logo once get the uploaded file's name -->
                <div id="upload_icon">
                    <img src="images/upload.png">
                </div>
                
                <div id="file_input_text_div" class="mdl-textfield mdl-js-textfield textfield-demo">
                    <!-- yellow 900 is the color I used here, more info: http://blog.jonathanargentiero.com/material-design-lite-color-classes-list/ -->
                    <!-- placeholder="                      图片名" this implementation is way too stupid so I give up-->
                    <input class="file_input_text mdl-textfield__input mdl-color-text--yellow-900 " type="text"  disabled readonly id="file_input_text" />
                    <label class="mdl-textfield__label" for="file_input_text"></label>
                </div>
                <!-- TODO:replace the +1337 with the update times -->

            </div>

            <div class="mdl-card__supporting-text meta meta--fill mdl-color-text--grey-600">
                <div>
                    <strong>图片上传</strong>
                </div>
                <ul class="mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect" for="menubtn">
                    <li class="mdl-menu__item">About</li>
                    <li class="mdl-menu__item">Message</li>
                    <li class="mdl-menu__item">Favorite</li>
                    <li class="mdl-menu__item">Search</li>
                </ul>
                <button id="menubtn" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
                    <i class="material-icons" role="presentation">more_vert</i>
                    <span class="visuallyhidden">show menu</span>
                </button>
            </div>
        </div>


        <!-- place reserved for  meteor's template system-->
        <!-- {{> picCardList}} -->
        <!-- <div class="pictures">
                        {{#each pictures}} 
                            {{> cardItem}} 
                        {{/each}}
                    </div> -->


        <div class="mdl-card on-the-road-again mdl-cell mdl-cell--12-col">
            <div class="mdl-card__media mdl-color-text--grey-50">
                <h3><a href="entry.html">On the road again</a></h3>
            </div>
            <div class="mdl-color-text--grey-600 mdl-card__supporting-text">
                Enim labore aliqua consequat ut quis ad occaecat aliquip incididunt. Sunt nulla eu enim irure enim nostrud aliqua consectetur
                ad consectetur sunt ullamco officia. Ex officia laborum et consequat duis.
            </div>
            <div class="mdl-card__supporting-text meta mdl-color-text--grey-600">
                <div class="minilogo"></div>
                <div>
                    <strong>The Newist</strong>
                    <span>2 days ago</span>
                </div>
            </div>
        </div>
        <div class="mdl-card amazing mdl-cell mdl-cell--12-col">
            <div class="mdl-card__title mdl-color-text--grey-50">
                <h3 class="quote"><a href="entry.html">I couldn’t take any pictures but this was an amazing thing…</a></h3>
            </div>
            <div class="mdl-card__supporting-text mdl-color-text--grey-600">
                Enim labore aliqua consequat ut quis ad occaecat aliquip incididunt. Sunt nulla eu enim irure enim nostrud aliqua consectetur
                ad consectetur sunt ullamco officia. Ex officia laborum et consequat duis.
            </div>
            <div class="mdl-card__supporting-text meta mdl-color-text--grey-600">
                <div class="minilogo"></div>
                <div>
                    <strong>The Newist</strong>
                    <span>2 days ago</span>
                </div>
            </div>
        </div>


        <!-- Next page button -->
        <nav class="demo-nav mdl-cell mdl-cell--12-col">
            <div class="section-spacer"></div>
            <a href="entry.html" class="demo-nav__button" title="show more">
                More
                <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
                    <i class="material-icons" role="presentation">arrow_forward</i>
                </button>
            </a>
        </nav>
    </div>

    <!-- FIXME:Due to unknow reason, these script doesn't work within the card_list.js file, so I transfer them to here  -->
    <!-- Very likely some issues within the meteor -->
    <script type="text/javascript">
        var fileInputTextDiv = document.getElementById('file_input_text_div');
        var fileInput = document.getElementById('file_input_file');
        var fileInputText = document.getElementById('file_input_text');

        fileInput.addEventListener('change', changeInputText);
        fileInput.addEventListener('change', changeState);

        function changeInputText() {
            var str = fileInput.value;
            var i;
            if (str.lastIndexOf('\\')) {
                i = str.lastIndexOf('\\') + 1;
            } else if (str.lastIndexOf('/')) {
                i = str.lastIndexOf('/') + 1;
            }
            fileInputText.value = str.slice(i, str.length);
        }

        function changeState() {
            if (fileInputText.value.length != 0) {
                if (!fileInputTextDiv.classList.contains("is-focused")) {
                    fileInputTextDiv.classList.add('is-focused');
                }
            } else {
                if (fileInputTextDiv.classList.contains("is-focused")) {
                    fileInputTextDiv.classList.remove('is-focused');
                }
            }
        }

     
        document.getElementById("file_input_file").onchange = function () {
            document.getElementById("upload_icon").innerHTML="<img src=\"images/all_done.png\">";
        };
        
    </script>

</template>